import{a as or,b as nr}from"https://app.framerstatic.com/chunk-7E6MV5IA.js";import{a as rr}from"https://app.framerstatic.com/chunk-ZL4VCC42.js";import{a as Jt,b as Xt,c as Yt,d as er}from"https://app.framerstatic.com/chunk-LAGNFMJE.js";import{a as Kt,d as Ut,f as $t,g as zt,h as De}from"https://app.framerstatic.com/chunk-QVPQPGMM.js";import{a as Zt,c as Oe,d as ue,e as qt,f as tr}from"https://app.framerstatic.com/chunk-ENDJU4JU.js";import"https://app.framerstatic.com/chunk-RAXMX7OT.js";import{ca as Vt,f as Wt,r as _t,t as Bt}from"https://app.framerstatic.com/chunk-U2ZJKSCD.js";import{b as zr}from"https://app.framerstatic.com/chunk-ZQDZVVBL.js";import{a as ir,b as ar}from"https://app.framerstatic.com/chunk-RQC2Q323.js";import{g as Ft}from"https://app.framerstatic.com/chunk-GJHCIRZP.js";import{a as Ye,b as et,c as Z,d as q,e as Ae,g as Qt}from"https://app.framerstatic.com/chunk-URGH4VRH.js";import{a as ne,b as Qe}from"https://app.framerstatic.com/chunk-CDOY54VB.js";import{Ed as Mt,F as ce,G as w,Hg as de,K as St,Kf as Dt,Rd as It,Sa as wt,Sb as Nt,Sd as Lt,Tb as xt,Wa as Et,Yd as jt,hh as je,ia as $r,ih as At,lh as He,mb as Tt,mf as z,mg as Ot,nc as kt,u as Ct,w as yt,x as bt,y as Rt,yf as V,z as se,zf as Ht}from"https://app.framerstatic.com/chunk-UT2ZFTV7.js";import{J as ie,Ja as ut,K as ae,L as Te,Ta as Me,Ua as mt,Va as pt,W as ot,Xa as ft,_a as gt,a as Je,aa as nt,ab as Ie,b as Xe,ba as it,bb as vt,c as Se,ca as at,cb as $,e as Y,ea as Ne,fa as xe,ga as st,i as Pe,na as ct,oa as dt,qa as ke,rb as ht,s as we,ta as lt,vb as Le,w as rt,z as Ee}from"https://app.framerstatic.com/chunk-6QHQQMO6.js";import{d as Gt}from"https://app.framerstatic.com/chunk-GAZBF4FI.js";import{i as A}from"https://app.framerstatic.com/chunk-QTR2WLKG.js";import{b as Pt}from"https://app.framerstatic.com/chunk-RDLQXJQO.js";import"https://app.framerstatic.com/chunk-BBO2SCOY.js";import{a as Br,ba as le}from"https://app.framerstatic.com/chunk-XONSHTEO.js";import"https://app.framerstatic.com/chunk-DZNRQRZG.js";import"https://app.framerstatic.com/chunk-DT5VAG3I.js";import{a as P}from"https://app.framerstatic.com/chunk-3DCTCUXA.js";import{c as tt}from"https://app.framerstatic.com/chunk-C5S6QE3H.js";import{e as K,i as O}from"https://app.framerstatic.com/chunk-2AOW3ST7.js";import{A as qe,a as Re,b as re,d as ze,g as X,k as oe,m as Ge,v as Ve,w as Ze}from"https://app.framerstatic.com/chunk-2IRO5WW5.js";import{d as b}from"https://app.framerstatic.com/chunk-IUS2PFUY.js";var $e=b(P()),Ur=b(Br());var sr=$;function cr(){return ke?ke():sr.getURLs?{...sr.getURLs(),showConsole:!1,disableDevice:!1}:{imageBaseURL:"",projectURL:"",showConsole:!1,disableDevice:!1}}var U=b(P());var me=b(P());var Fe=class extends me.PureComponent{constructor(){super(...arguments);this.state={}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,o){if(r.nodeToRenderKey!==o.nodeToRenderKey){let t={nodeToRenderKey:r.nodeToRenderKey};return o.error&&(t.error=void 0),t}return null}render(){return this.state.error?me.createElement(ce,{error:{error:this.state.error}}):this.props.children}};var Gr="getActions";function dr(e){return Gr in e}var Vr="rgba(4,4,15,.4)",Oo={navigationTarget:null,navigationTransition:ct.push,navigationTransitionDirection:"left",navigationTransitionBackdropColor:Vr},Zr="navigationTarget";function lr(e){return Zr in e}var We=b(P());var pe=b(P());var Ue=b(zr());function ur(e){return typeof e=="string"||Te&&Te(e)?e:ie&&ie.isLinearGradient(e)?ie.toCSS(e):ae&&ae.isRadialGradient(e)?ae.toCSS(e):Ee.isColorObject(e)?Ee.toRgbString(e):e}function Ke(e){if(e.background||e.color){let r=Object.assign({},e);return e.background&&(r.background=ur(e.background)),e.color&&(r.color=ur(e.color)),r}return e}function qr(e){return typeof e=="function"?r=>e(Ke(r)):()=>Ke(e)}function Jr(e){let r=Object.assign({},...e),o={};for(let t of e)for(let i in t){let n=t[i];typeof n=="function"&&(o[i]||(o[i]=[]),o[i].push(n))}for(let t in o){let i=o[t];i.length===1?r[t]=i[0]:r[t]=(...n)=>{i.forEach(s=>s(...n))}}return r}function mr(e,r){if(r.length===0)return e;let o=r.map(qr),t=e;if(!Me){for(let i of r)t=pt(t,i),(0,Ue.default)(t,e);return t}return t=function(i){pe.useContext(Me);let n=[];for(let d of o)n.push(d(i));let s=Jr(n);for(let d in s){let m=s[d];typeof Pe=="function"&&Pe(m)&&(s[d]=m.get(),ze("The use of Animatable values in Overrides is no longer supported. use MotionValues instead."))}let{style:u,...c}=i;return pe.createElement(e,{...c,...s,_initialStyle:u})},(0,Ue.default)(t,e),t.displayName=`WithOverrides(${e.displayName||e.name})`,t}var fe=b(P());function Xr(e){return typeof e=="function"}function pr(e,r,o){if(!e)return;let t=Object.keys(e);if(t.length!==0)return()=>{let i=nr(),n,s,u=!1,c={};for(let p of t){let y=e[p],f=[],v=Qr(p,r),g=!1;for(let T of y){let{actionIdentifier:R,controls:h,meta:x}=T;if(!R||!h||g&&!v||(g=Wt(T))&&h.type.value!=="previous"&&!h.target.value)continue;let j=w.componentForIdentifier(R);if(!j)continue;let F={};for(let M in h){let a=h[M];a.type===Y.ComponentInstance&&typeof a.value=="string"?F[M]=o(a.value):F[M]=a.value}let H=j.class;if(!Xr(H))continue;let N=H(F);typeof N=="function"&&(f.push({handler:N,meta:x}),Ie(x==null?void 0:x.key)&&(u=!0))}if(f.length===0)continue;let k=(...T)=>{let R=Promise.resolve();return f.forEach(h=>{var F;let{handler:x,meta:L}=h;if(v){let H=T[0];if(!H||!eo(H,L))return;(F=H.preventDefault)==null||F.call(H)}let j=L==null?void 0:L.delay;j&&(R=R.then(()=>to(j*1e3,i))),R=R.then(()=>x(...T))}),R.catch(h=>{}),R};v?n=k:Yr(p,r)?s=k:c[p]=k}function d(){i.forEach(p=>p("cancel delayed actions")),i.clear()}let m=(0,fe.useContext)(vt),l=n;return at((p,y)=>{let f=p&&!y;if(f||d(),f&&s&&s(),f&&l)return document.addEventListener("keydown",l),u&&m.register(l),()=>{u&&m.unregister(l),document.removeEventListener("keydown",l)}}),(0,fe.useEffect)(()=>()=>{d(),u&&l&&m.unregister(l)},[]),c}}function Yr(e,r){return e===Lt&&r}function Qr(e,r){return e===It&&r}function eo(e,r){if(!e||!r||!r.key)return!1;let o=r.key;return Ie(e)?!Et(o)||e.inputs.length===0?!1:o.mapping===e.mapping&&e.inputs.includes(o.key):Object.keys(o).every(t=>o[t]===e[t])}function to(e,r){return new Promise((o,t)=>(r.add(t),window.setTimeout(()=>{r.has(t)&&(r.delete(t),o())},e)))}var ge=b($r());var fr=oe("preview");function Q(e,r,o){let t=n=>{let s=xt(n);return s?e.getNode(s):null},i=r;if(Nt(r)){let n=t(r);if(n)i=n;else return null}if(A.isOn("compiledScreens")){let n=e.getGroundNodeFor(i),s=e.getScopeNodeFor(n);if(Dt(s)&&!V(n)){let u=Ve(Ge.Screen,n.id,"default").value,c=w.componentForIdentifier(u);if(c){if(se(c))return null;if(c.type!=="component"&&c.type!=="screen")return fr.error("Not a generated screen or component",c),null}else return w.errorForIdentifier(u)?null:We.createElement(ce,{key:"component-placeholder"});return We.createElement(c.class,{key:n.id})}}return ue({node:i,forceRender:o,modifyComponentForNode(n,s,u){if(lr(n)&&n.navigationTarget){let m,l;if(n.navigationTarget==="@Previous")m="goBack";else{m=n.navigationTransition;let p=e.get(n.navigationTarget);p?l=()=>Q(e,p,o):fr.warn(`Could not find navigation node for ${n.navigationTarget}`)}s=dt(s,m,n.navigationTransitionDirection,l,{backdropColor:n.navigationTransitionBackdropColor})}we&&we(u)&&(u._constraints.enabled=!1);let c=[];if(dr(n)){let m=e.getScopeNodeFor(n),l=n.getActions(w),p=jt(n),y=pr(l,p,f=>{let v=e.getNode(f);if(v===null||m===null)return null;let g=e.get(v.parentid);return g===null||g.id!==m.id?null:Q(e,v,o)});y&&c.push(y)}let d;if(kt(n)&&n.codeOverrideEnabled&&n.codeOverrideIdentifier){let m=e.getScopeNodeFor(n);if(!z(m)){let l=w.componentForIdentifier(n.codeOverrideIdentifier);l&&(bt(l)?c.push(l.class):Rt(l)&&(d=l.class))}}return d&&(s=d(s)),c.length>0&&(s=mr(s,c)),n instanceof Mt&&u.contentState instanceof ge.ContentState&&(u.contentState=(0,ge.convertToRaw)(u.contentState)),[s,u]}})}var D=b(P()),J=b(P());var E=b(P());var gr="highlightContainer_h73umcx",vr="animation_a1qvnauk",hr="highlight_h181oh5e";var _e=640,_=2,ro=!0;function oo(e,r,o=1){return!e||!r?!1:Math.abs(e.x-r.x)>o||Math.abs(e.y-r.y)>o}function no(e){return Array.from(new Set(e))}function Cr(e){return e.framerHighlight==="true"||e.highlight==="true"}function ve(e){return e instanceof HTMLElement}function io(e){return Cr(e.dataset)||e.disabled===!1}function ao(e){let r=e;for(;ve(r)&&r.dataset.framerComponentType!=="NavigationContainer";){if(Cr(r.dataset))return!0;r=r.parentElement}return!1}function yr(e){let r=e;for(;r&&ve(r);){if(r.dataset.framerComponentType==="NavigationContainer"){let o=r.querySelectorAll("[data-framer-is-current-navigation-target=true]");return o.length?o[o.length-1]:r}r=r.parentElement}return r}function so(e){let{top:r,left:o,width:t,height:i}=e.target.getBoundingClientRect(),n=!1,s=!1,u=!1,c=!1;e.intersectionRatio!==1&&(n=Math.abs(e.boundingClientRect.left-e.intersectionRect.left)>1,s=Math.abs(e.boundingClientRect.right-e.intersectionRect.right)>1,u=Math.abs(e.boundingClientRect.top-e.intersectionRect.top)>1,c=Math.abs(e.boundingClientRect.bottom-e.intersectionRect.bottom)>1),(n||s)&&(o=e.intersectionRect.left,t=e.intersectionRect.width),(u||c)&&(r=e.intersectionRect.top,i=e.intersectionRect.height);let{borderTopRightRadius:d=0,borderTopLeftRadius:m=0,borderBottomLeftRadius:l=0,borderBottomRightRadius:p=0}=ro?getComputedStyle(e.target):{},y=e.target.id?`highlight-${e.target.id}-${r}-${o}-${t}-${i}`:Pt(),f=0;if(ve(e.target)){let v=e.target.style;v.left==="50%"&&v.top==="50%"&&v.transform==="translate(-50%, -50%)"&&e.target.dataset.framerComponentType==="Frame"&&(f=-1)}return E.createElement("div",{key:y,className:hr,style:{borderTopRightRadius:u||s?0:`calc(${_}px + ${d}) `,borderTopLeftRadius:u||n?0:`calc(${_}px + ${m}) `,borderBottomLeftRadius:c||n?0:`calc(${_}px + ${l}) `,borderBottomRightRadius:c||s?0:`calc(${_}px + ${p}) `,top:r-_,left:o-_,width:t+_*2,height:i+_*2+f,borderWidth:_}})}function br({setHighlightsCallback:e}){let[r,o]=E.useState([]),t=E.useRef(void 0),i=E.useCallback(d=>{let m=new IntersectionObserver((l,p)=>{o(l.filter(y=>y.isIntersecting).map(so).filter(Boolean)),p.disconnect()},{threshold:[0]});no([...d.querySelectorAll("[data-framer-highlight=true], [data-highlight=true], *:enabled")]).forEach(l=>m.observe(l))},[]),n=!!r.length,s=E.useCallback(d=>{let m=d.target;if(oo({x:d.clientX,y:d.clientY},t.current,4)||d.defaultPrevented||!(m instanceof Element)||ve(m)&&io(m)||ao(m)||n)return;let l=yr(m);!l||i(l)},[i,n]),u=E.useCallback(()=>{let d=yr(document.querySelector("[data-framer-is-current-navigation-target=true]"));!d||i(d)},[i]);E.useEffect(()=>{let d=setTimeout(()=>{u()},_e);return()=>clearTimeout(d)},[u]),E.useEffect(()=>{if(r&&r.length){let d=setTimeout(()=>o([]),_e);return()=>clearTimeout(d)}},[r]);let c=E.useCallback(d=>{t.current={x:d.clientX,y:d.clientY}},[]);return E.useEffect(()=>(document.addEventListener("mousedown",c),document.addEventListener("mouseup",s),e(u),()=>{e(null),document.removeEventListener("mouseup",s),document.removeEventListener("mousedown",c)}),[s,c,e,u]),E.createElement("div",{className:le(r.length&&vr,gr),style:{animationDuration:`${_e}ms`}},r)}var ee=b(P());function Rr(e,r,o){let t=ee.createElement(ee.Fragment,null,o);if(!e)return t;let i=w.componentForIdentifier(e);return!i||!yt(i)?t:ee.createElement(i.class,r,o)}var Sr="previewApp_p19opbdr",Pr="touchCursor_tq8245a",wr="disableUserSelect_dxvyd3w";function co(e,r){if(V(e)&&$t(r,e)){let o=zt(r,e);return Le(z(o),"PreviewRenderer: WebPage Scope node must exist and be a canvas component"),{entryNode:o.getPrimaryVariant(),entryWebPageScopeNode:o}}if(z(e)&&de(e))return{entryNode:e.getPrimaryVariant(),entryWebPageScopeNode:e};if(wt(e)){let o=r.getScopeNodeFor(e);return Le(z(o),"PreviewRenderer: WebPage Scope node must exist and be a canvas component"),{entryNode:o.getPrimaryVariant(),entryWebPageScopeNode:o}}return{entryNode:e}}var Er=D.memo(function({tree:r,customProperties:o,nodeToRender:t,nodeToRenderKey:i,reloadCount:n,assetMapHash:s,touchCursor:u,highlightsEnabled:c,pluginComponentId:d,setHighlightsCallback:m,onFinishedRendering:l,onNavigationAction:p,__doNotUse_measuredNodeWidth:y,__doNotUse_measuredNodeHeight:f}){let v=(0,J.useCallback)(N=>{let M=r.getNode(N);return M?Q(r,M,s):null},[r,s]),[g]=(0,J.useState)(()=>new nt((N,M,a)=>{a.dispatchEvent(new CustomEvent("FramerEvent",{bubbles:!0,detail:{type:N,event:M}}))}));(0,J.useEffect)(()=>l==null?void 0:l(),[l]);let{entryNode:k,entryWebPageScopeNode:T}=co(t,r),R={};for(let N of r.root.children)z(N)&&de(N)&&(R[N.id]={page:ue({node:N.getPrimaryVariant()}),path:N.pagePath});let h=T?R[T.id].page:Q(r,k,s);h=D.createElement(st,{withOverflowScrolling:A.isOn("sites"),__asExperimentalRouter:A.isOn("sites")},h);let{width:x,height:L}=t.rect();y&&(x=y),f&&(L=f),h=Rr(d,{prototypeWidth:x,prototypeHeight:L},h),xe&&(h=D.createElement(xe,{value:p},h)),Ne&&(h=D.createElement(Ne.Provider,{value:R},h));let j=r.getCanvasComponentNodeFor(t),F=j&&de(j),H=D.createElement("div",{className:le(Sr,u&&Pr,!F&&wr),key:i+n},D.createElement(ft,{value:v},D.createElement(mt,null,D.createElement(it,{session:g},D.createElement(gt,null,h)))),m&&c&&D.createElement(br,{setHighlightsCallback:m}));return qt(H,o)},po),lo=new Set(["tree","customProperties","nodeToRenderKey","assetMapHash","autoReload","__doNotUse_measuredNodeWidth","__doNotUse_measuredNodeHeight"]),uo={tree:!0,customProperties:!0,nodeToRender:!0,nodeToRenderKey:!0,assetMapHash:!0,autoReload:!0,reloadCount:!0,modulesUpdateCount:!0,externalModulesLoading:!0,touchCursor:!0,highlightsEnabled:!0,pluginComponentId:!0,setHighlightsCallback:!0,onFinishedRendering:!0,onNavigationAction:!0,__doNotUse_measuredNodeWidth:!0,__doNotUse_measuredNodeHeight:!0},mo=Object.keys(uo);function po(e,r){return r.autoReload===!0?!1:mo.every(o=>{if(lo.has(o))return!0;let t=r[o],i=e[o];return o==="nodeToRender"?t.id===i.id:t===i})}var he=b(P());var Tr=["click","contextmenu","keydown"];function Nr({disabled:e=!1}){let r=he.useRef(new K),o=lt(t=>{r.current.emit({type:t.type})},1e3);return he.useEffect(()=>{if(!e)return Tr.forEach(t=>{window.addEventListener(t,o,!0)}),()=>{Tr.forEach(t=>{window.removeEventListener(t,o,!0)})}},[e,o]),r.current.newStream}var Ce=b(P());function fo(e){return e.target!==null&&"nodeName"in e.target&&typeof e.target.nodeName=="string"}function xr(e,r){return function(t){t.repeat||t.defaultPrevented||t.isComposing||(e.emit({altKey:t.altKey,code:t.code,ctrlKey:t.ctrlKey,key:t.key,keyCode:t.keyCode,metaKey:t.metaKey,shiftKey:t.shiftKey,targetNodeName:fo(t)?t.target.nodeName:""}),r&&go(t)&&t.preventDefault())}}function go(e){if(!(e.ctrlKey||e.metaKey))return!1;switch(e.keyCode){case 73:return Ut?!e.shiftKey:!e.altKey;case 79:return!0;case 80:return!0;case 82:return!0;case 83:return!0;case 72:return!0}return!1}function kr({preventNativeBrowserShortcuts:e}){let r=Ce.useRef(new K),o=xr(r.current,e);return Ce.useEffect(()=>{let t=o;return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[o]),r.current.newStream}var G=b(P());var vo=[/^\[[a-z:-]+\]\s*☎️/i,/^%c Loader: %c/,/warn: \[FeatureSet\]/],ho='Unable to show message, check the web inspector console. You can access the web inspector by right-clicking the preview, and selecting "Inspect".';function Mr(){let e=G.useRef(new K),r=G.useRef(),o=G.useRef(i=>{let{data:n,...s}=i;if(n[0]&&vo.some(c=>typeof n[0]=="string"&&c.test(n[0])))return;let u={...s,data:n.map(c=>{try{return Ae(c)}catch(d){return Ae(ho)}})};Promise.resolve().then(()=>{e.current.emit({logs:[u]})}).catch(X)}),t=G.useRef(i=>{try{let n=Kt(i),s=n.message;n.stack&&(s+=`
`,s+=n.stack.map(c=>c.functionName?`  at ${c.functionName} (${c.fileName}:${c.lineNumber}:${c.colNumber})`:`  at ${c.fileName}:${c.lineNumber}:${c.colNumber}`).join(`
`));let u={method:Jt.Error,data:[s],id:""};o.current(u)}catch(n){}});return G.useEffect(()=>{let i=t.current;return r.current=Xt(window.console,o.current),window.addEventListener("error",i),()=>{r.current&&Yt(r.current),window.removeEventListener("error",i)}},[]),e.current.newStream}var ye=b(P());function Ir(){let e=ye.useRef(new K),r=ye.useCallback(o=>e.current.emit({key:o}),[]);return[e.current.newStream,r]}var be=b(P());function Lr(){let e=be.useRef(new K),r=be.useCallback(()=>{e.current.emit({})},[]);return[e.current.newStream,r]}var S=b(P());function jr(e){let o=e.root.children;for(let t=0,i=o.length;t<i;t++)Hr(o[t])}function Hr(e){let r=e.cache;r.reset(),r.lastUpdate=e.update;let o=e.children;if(!!o)for(let t=0,i=o.length;t<i;t++){let n=o[t];Hr(n)}}var Co=window,Dr="",Or="";function Ar(e){let r=e["index.js"],o=e["vendors.js"];r&&(Dr=String(je(r))),o&&(Or=String(je(o)));let t=`${Dr}_${Or}`;return Co.componentHash=t,t}var te=oe("preview"),yo=0,Be=()=>`key-${++yo}`;function bo(e){var r;return((r=e.nodeToRender)==null?void 0:r.type)==="canvas"?e.nodeToRender.id:void 0}function Ro(e){var r;return((r=e.nodeToRender)==null?void 0:r.type)==="canvas"?e.nodeToRender.width:void 0}function So(e){var r;return((r=e.nodeToRender)==null?void 0:r.type)==="canvas"?e.nodeToRender.height:void 0}function Po(e){var r;return((r=e.nodeToRender)==null?void 0:r.type)==="codeEditor"?e.nodeToRender.componentId:void 0}function wo(e){let r=w.componentForIdentifier(e);return r&&Ct(r)?r:w.errorForIdentifier(e)}function Eo(e){let r=e.defaultProps||{},o=De(r.width,200),t=De(r.height,200);return new Ht({codeComponentIdentifier:e.identifier,left:0,top:0,width:o,height:t,...Tt({width:{type:Y.Number,value:o},height:{type:Y.Number,value:t}})})}function To(e){return Ot(e,w)}function No(e){jr(e),Bt(e,new Vt)}function xo(e,r,o={getCustomProperties:To,getComponent:wo,applyChanges:He,rebuildCache:No}){var n,s,u,c,d;let t={...e},i=!1;switch(r.type){case"applyTreeChanges":if(e.tree)try{o.applyChanges(e.tree,r.changes),t.tree=e.tree.commit()}catch(m){te.reportError(m),delete t.tree,t.shouldPerformFullTreeLoad=!0}break;case"forceRender":t.project.status==="loaded"&&t.reloadCount++;break;case"setNodeToRender":t.nodeToRender=r.nodeToRender;break;case"setTree":t.tree=r.tree,t.shouldPerformFullTreeLoad=!1;break;case"pause":t.isPaused=!0;break;case"resume":t.isPaused=!1;break;case"setAutoReload":t.autoReload=r.autoReload;break;case"setHighlights":t.isHighlightsEnabled=r.value;break;case"setPluginComponentId":t.pluginComponentId=r.value;break;case"updateStateDueToScriptsChange":i=!0;break;case"updateStateDueToModuleChange":i=!0,t.localModulesInitialized=r.localModulesInitialized,performance.now()<t.modulesFreezingTimestamp&&t.modulesUpdateCount++;break;case"assetMapDidUpdate":t.assetMapHash=r.assetMapHash,t.tree&&_t({subtree:t.tree.root,invalidateElements:!0,invalidateAssets:!0});break;case"externalModulesLoadingStateUpdate":t.externalModulesLoading=r.loading,t.project.status==="loaded"&&!r.loading&&(t.project.nodeToRenderKey=Be());break;default:re(r)}if(t.nodeToRender)switch(t.nodeToRender.type){case"canvas":{let m=t.tree!==e.tree,l=t.nodeToRender.id!==bo(e),p=t.nodeToRender.width!==Ro(e)||t.nodeToRender.height!==So(e),y=t.nodeToRender.touchCursor!==((n=e.nodeToRender)==null?void 0:n.touchCursor),f=t.assetMapHash!==e.assetMapHash;if(t.tree&&t.assetMapHash!==void 0&&t.localModulesInitialized&&(m||l||p||y||f||i)){let v=t.tree.getNode(t.nodeToRender.id);if(v){let g=o.getCustomProperties(t.tree);t.project={status:"loaded",tree:t.tree,customProperties:g,nodeToRender:v,__doNotUse_measuredNodeWidth:t.nodeToRender.width,__doNotUse_measuredNodeHeight:t.nodeToRender.height,nodeToRenderKey:Be(),assetMapHash:t.assetMapHash,touchCursor:t.nodeToRender.touchCursor}}else t.project={status:"error"}}}break;case"codeEditor":{let m=!e.tree&&t.tree,l=t.nodeToRender.componentId!==Po(e),p=t.nodeToRender.touchCursor!==((s=e.nodeToRender)==null?void 0:s.touchCursor),y=t.assetMapHash!==e.assetMapHash;if(!t.tree||t.assetMapHash===void 0||!t.localModulesInitialized){t.project={status:"waiting"};break}if(m||l||p||y||i){let f=o.getComponent(t.nodeToRender.componentId);if(!f){t.project={status:"error"};break}if(se(f)&&f.fileDoesNotExist){t.project={status:"waiting"};break}let v=o.getCustomProperties(t.tree);t.project={status:"loaded",tree:t.tree,customProperties:v,nodeToRender:Eo(f),nodeToRenderKey:Be(),assetMapHash:t.assetMapHash,touchCursor:t.nodeToRender.touchCursor}}}break;default:re(t.nodeToRender)}return t.tree&&(t.tree!==e.tree||i||e.externalModulesLoading&&!t.externalModulesLoading)&&o.rebuildCache(t.tree),((u=e.project)==null?void 0:u.status)!==((c=t.project)==null?void 0:c.status)&&((d=t.project)==null?void 0:d.status)==="loaded"&&(t.modulesFreezingTimestamp=performance.now()+3e3),t}function Fr({renderPhaseEventStream:e,logStream:r,keyboardEventStream:o,interactionStream:t,navigationEventStream:i,onShowHighlights:n}){let[{isPaused:s,autoReload:u,project:c,shouldPerformFullTreeLoad:d,isHighlightsEnabled:m,pluginComponentId:l,reloadCount:p,modulesUpdateCount:y,localModulesInitialized:f,externalModulesLoading:v},g]=(0,S.useReducer)(xo,{isPaused:!1,autoReload:!0,isHighlightsEnabled:!1,project:{status:"loading"},shouldPerformFullTreeLoad:!0,reloadCount:0,modulesUpdateCount:0,modulesFreezingTimestamp:1/0,localModulesInitialized:!1,externalModulesLoading:!1}),k=Oe(()=>or.createPreviewModulesRuntime(a=>{g({type:"externalModulesLoadingStateUpdate",loading:a})})),T=(0,S.useCallback)(a=>{a.root.walk(C=>{if(!V(C))return;let I=Ze(C.codeComponentIdentifier);(I==null?void 0:I.kind)==="externalModuleExport"&&k.ensureExternalModuleLoaded(I).catch(te.reportError)})},[k]),R=(0,S.useRef)(null),h=(0,S.useRef)(null),x=Oe(()=>qe()),L=(0,S.useCallback)(a=>{x.then(()=>k.handleLocalModulesUpdate(a)).then(()=>{g({type:"updateStateDueToModuleChange",localModulesInitialized:a.initialized})}).catch(te.reportError)},[x,k]),j=(0,S.useCallback)(a=>{let C=Ar(a);R.current!==C&&(w.updateStateWithScripts(a,$),R.current=C,h.current=a,g({type:"updateStateDueToScriptsChange"}))},[]),F=(0,S.useCallback)(a=>{let C=At.fromJS(a,w);if(!C)throw Error("unable to build tree from: "+a);T(C),g({type:"setTree",tree:C})},[T]),H=(0,S.useCallback)(a=>{g({type:"applyTreeChanges",changes:a})},[]),N=(0,S.useRef)(!1);(0,S.useEffect)(()=>{Re(!N.current,"Ensure interface handlers are wrapped in useRef/useCallback to avoid restarting the service"),Ye.on(O).register({reload:async()=>{h.current&&w.updateStateWithScripts(h.current,$),g({type:"forceRender"})},pause:async()=>{g({type:"pause"})},resume:async()=>{g({type:"resume"})},setAutoReload:async({autoReload:a})=>{g({type:"setAutoReload",autoReload:a})},previewKeyboardEventStream:o,renderPhaseEventStream:e,previewLogStream:r,previewInteractionStream:t||function(){throw new Error("Not implemented")},navigationEventStream:i,showHighlights:n}),N.current=!0},[t,o,r,n,e,i]),(0,S.useEffect)(()=>{!d||(ne.on(O).discover().then(async a=>{let{document:C,initialUpdates:I,scripts:B}=await a.loadDocument();if(B&&j(B),C){let W=Ft(C);I&&(He(W,I),W=W.commit()),T(W),g({type:"setTree",tree:W})}}).catch(X),Se.on(O).discover().then(async a=>{let{modules:C,initialized:I}=await a.getModules(),B=[];for(let W of Object.values(C))B.push({op:"add",path:[`${W.type}/${W.name}`],value:W});L({patches:B,dependentModules:[],initialized:I})}).catch(X),Xe.on(O).discover().then(async a=>{a.experimentsUpdatesStream({replay:"latest"}).read(C=>A.update(C)).catch(te.reportError)}).catch(te.reportError))},[d,j,L,T]),Z({channel:O,service:ne,onDiscover:a=>a.scriptUpdateStream(),onError:q},async({content:a})=>j(a)),Z({channel:O,service:Se,onDiscover:a=>a.moduleUpdatesStream(),onError:q},async({patches:a,dependentModules:C,initialized:I})=>{L({patches:a,dependentModules:C,initialized:I})}),Z({channel:O,service:ne,onDiscover:a=>a.treeUpdateStream(),onError:q},async a=>{a.type==="tree"?F(a.tree):a.type==="changes"?H(a.changes):re(a)}),Z({channel:O,service:Qe,onDiscover:a=>a.previewMetadataUpdateStream({replay:"latest"}),onError:q},async({node:a,touchCursor:C,highlights:I,pluginComponentId:B})=>{g({type:"setHighlights",value:I}),g({type:"setPluginComponentId",value:B}),g({type:"setNodeToRender",nodeToRender:a?{...a,touchCursor:C}:void 0})}),Z({channel:O,service:et,onDiscover:a=>a.keyDownStream(),onError:q},async a=>{let C=new KeyboardEvent("keydown",a);document.dispatchEvent(C)});let M=(0,S.useContext)(ir);return Re(M,"Missing AssetMap, the preview may have not been bootstrapped correctly"),(0,S.useEffect)(()=>{ht(Je.on(O).discover(),async a=>{!a.assets||(M.update(a.assets),x.resolve(),ut.importCustomFonts(a.assets),g({type:"assetMapDidUpdate",assetMapHash:M.hash}))})},[M,x]),{isPaused:s,project:c,isHighlightsEnabled:m,pluginComponentId:l,autoReload:u,reloadCount:p,modulesUpdateCount:y,localModulesInitialized:f,externalModulesLoading:v,modulesRuntime:k}}var Kr=({enableInteractionTracking:e,isPlayPreview:r})=>{let o=U.useRef(null),t=U.useCallback(R=>{o.current=R},[]),i=U.useCallback(async()=>{!o.current||o.current()},[]),[n,s]=Lr(),[u,c]=Ir(),d=r&&A.isOn("sites"),{isPaused:m,project:l,autoReload:p,isHighlightsEnabled:y,pluginComponentId:f,reloadCount:v,modulesUpdateCount:g,externalModulesLoading:k,modulesRuntime:T}=Fr({renderPhaseEventStream:n,logStream:Mr(),keyboardEventStream:kr({preventNativeBrowserShortcuts:!d}),interactionStream:Nr({disabled:!e}),navigationEventStream:u,onShowHighlights:i});return m||l.status!=="loaded"&&l.status!=="waiting"?null:l.status==="waiting"?U.createElement(er,null):U.createElement(Zt.Provider,{value:T},U.createElement(Fe,{nodeToRenderKey:l.nodeToRenderKey},U.createElement(Er,{...l,touchCursor:l.touchCursor&&!d,setHighlightsCallback:t,highlightsEnabled:y&&!d,pluginComponentId:f,onFinishedRendering:s,onNavigationAction:c,autoReload:p,reloadCount:v,modulesUpdateCount:g,externalModulesLoading:k})))};window.Framer=$;function Wr(){let r=new URL(window.location.href).searchParams.get("target"),{enableInteractionTracking:o,renderTarget:t}=Qt(r),{imageBaseURL:i}=cr(),{assetResolver:n,AssetProvider:s}=ar(),u=n?{assetResolver:n}:{},c=new rr;St({...u,fetchGoogleFontsList:tr,enableFontStore:!0,experiments:A,useImageSource:c.useImageSource,useImageElement:c.useImageElement}),ot.start(),rt({target:t,imageBaseURL:i});let d=document.querySelector("main");Ur.render($e.createElement(s,null,$e.createElement(Kr,{enableInteractionTracking:o,isPlayPreview:r==="play-web"})),d)}var _r=Gt(document.referrer).origin;tt({name:"preview-next",security:{allowChannelToParentWithOrigin:_r,allowChannelToOpenerWithOrigin:_r}});Wr();
//# sourceMappingURL=https://app.framerstatic.com/preview-next.6A5D57ZJ.js.map
