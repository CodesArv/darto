import{a as nr,b as ir}from"https://app.framerstatic.com/chunk-FZOVEUUN.js";import{a as or}from"https://app.framerstatic.com/chunk-FMQIH6HH.js";import{a as Xt,b as Yt,c as Qt,d as tr}from"https://app.framerstatic.com/chunk-3QXJMYAE.js";import{a as Ut,d as Wt,f as zt,g as Gt,h as He}from"https://app.framerstatic.com/chunk-BS5AWZLP.js";import{a as qt,c as Ae,d as le,e as Jt,f as rr}from"https://app.framerstatic.com/chunk-Z6RZFXOS.js";import"https://app.framerstatic.com/chunk-RAJ5KPIE.js";import{f as _t,oa as Zt,r as Bt,t as $t}from"https://app.framerstatic.com/chunk-VHT2R6FV.js";import{a as ar,b as sr}from"https://app.framerstatic.com/chunk-XO7E6SRN.js";import{g as Kt}from"https://app.framerstatic.com/chunk-3QCEKEWI.js";import{a as Ye,b as et,c as Z,d as q,e as Oe,g as er}from"https://app.framerstatic.com/chunk-7MH6VVYU.js";import{a as ne,b as Qe}from"https://app.framerstatic.com/chunk-SIT6SOKT.js";import{c as De}from"https://app.framerstatic.com/chunk-RHZD5YXZ.js";import{a as Je,b as Xe,c as Pe}from"https://app.framerstatic.com/chunk-QQ655QQ4.js";import{Ag as Ht,F as ce,G as w,K as Pt,Le as Lt,Me as jt,Ra as wt,Rg as At,Sb as xt,Se as Dt,Tb as kt,Th as de,Wa as Tt,ia as Vr,mb as Nt,ng as $,se as It,tc as Mt,ti as je,u as Ct,ui as Ft,w as bt,x as Rt,xh as Ot,y as St,z as se,zg as V}from"https://app.framerstatic.com/chunk-TYBV43AC.js";import{$ as nt,Ga as lt,H as ie,I as ae,Ia as mt,J as Ne,Ta as Me,U as ot,Ua as pt,V as Gr,Va as ft,Xa as gt,_a as vt,aa as it,ab as Ie,b as Y,ba as at,bb as ht,ca as xe,cb as B,da as st,f as Ee,ka as ct,la as dt,na as ke,q as we,qa as ut,rb as yt,u as rt,vb as Le,x as Te}from"https://app.framerstatic.com/chunk-6B5LHQEA.js";import{b as Et}from"https://app.framerstatic.com/chunk-44JQ5OCO.js";import{d as Vt}from"https://app.framerstatic.com/chunk-F7HRKLLF.js";import{i as _}from"https://app.framerstatic.com/chunk-CGNQX3FX.js";import"https://app.framerstatic.com/chunk-4QG7U54G.js";import{a as zr,ea as ue}from"https://app.framerstatic.com/chunk-DYC25NMD.js";import"https://app.framerstatic.com/chunk-FV5RDAC5.js";import"https://app.framerstatic.com/chunk-DCVWXXDP.js";import{a as E}from"https://app.framerstatic.com/chunk-WKS3CYJQ.js";import{c as tt}from"https://app.framerstatic.com/chunk-5A7TAZUI.js";import{e as F,i as A}from"https://app.framerstatic.com/chunk-S6JNG4KN.js";import{E as qe,a as Se,b as re,d as ze,g as X,k as oe,m as Ge,v as Ve,w as Ze}from"https://app.framerstatic.com/chunk-2ZH5H5JZ.js";import{d as C}from"https://app.framerstatic.com/chunk-YHCX2KAD.js";var $e=C(E()),_r=C(zr());var cr=B;function dr(){return ke?ke():cr.getURLs?{...cr.getURLs(),showConsole:!1,disableDevice:!1}:{imageBaseURL:"",projectURL:"",showConsole:!1,disableDevice:!1}}var K=C(E());var me=C(E());var Fe=class extends me.PureComponent{constructor(){super(...arguments);this.state={}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,o){if(r.nodeToRenderKey!==o.nodeToRenderKey){let t={nodeToRenderKey:r.nodeToRenderKey};return o.error&&(t.error=void 0),t}return null}render(){return this.state.error?me.createElement(ce,{error:{error:this.state.error}}):this.props.children}};var Zr="getActions";function ur(e){return Zr in e}var qr="rgba(4,4,15,.4)",Uo={navigationTarget:null,navigationTransition:ct.push,navigationTransitionDirection:"left",navigationTransitionBackdropColor:qr},Jr="navigationTarget";function lr(e){return Jr in e}var We=C(E());var pe=C(E());var Ue=C(Gr());function mr(e){return typeof e=="string"||Ne&&Ne(e)?e:ie&&ie.isLinearGradient(e)?ie.toCSS(e):ae&&ae.isRadialGradient(e)?ae.toCSS(e):Te.isColorObject(e)?Te.toRgbString(e):e}function Ke(e){if(e.background||e.color){let r=Object.assign({},e);return e.background&&(r.background=mr(e.background)),e.color&&(r.color=mr(e.color)),r}return e}function Xr(e){return typeof e=="function"?r=>e(Ke(r)):()=>Ke(e)}function Yr(e){let r=Object.assign({},...e),o={};for(let t of e)for(let i in t){let n=t[i];typeof n=="function"&&(o[i]||(o[i]=[]),o[i].push(n))}for(let t in o){let i=o[t];i.length===1?r[t]=i[0]:r[t]=(...n)=>{i.forEach(s=>s(...n))}}return r}function pr(e,r){if(r.length===0)return e;let o=r.map(Xr),t=e;if(!Me){for(let i of r)t=ft(t,i),(0,Ue.default)(t,e);return t}return t=function(i){pe.useContext(Me);let n=[];for(let d of o)n.push(d(i));let s=Yr(n);for(let d in s){let m=s[d];typeof Ee=="function"&&Ee(m)&&(s[d]=m.get(),ze("The use of Animatable values in Overrides is no longer supported. use MotionValues instead."))}let{style:l,...c}=i;return pe.createElement(e,{...c,...s,_initialStyle:l})},(0,Ue.default)(t,e),t.displayName=`WithOverrides(${e.displayName||e.name})`,t}var fe=C(E());function Qr(e){return typeof e=="function"}function fr(e,r,o){if(!e)return;let t=Object.keys(e);if(t.length!==0)return()=>{let i=ir(),n,s,l=!1,c={};for(let p of t){let y=e[p],f=[],h=to(p,r),g=!1;for(let P of y){let{actionIdentifier:S,controls:b,meta:x}=P;if(!S||!b||g&&!h||(g=_t(P))&&b.type.value!=="previous"&&!b.target.value)continue;let j=w.componentForIdentifier(S);if(!j)continue;let O={};for(let M in b){let a=b[M];a.type===Y.ComponentInstance&&typeof a.value=="string"?O[M]=o(a.value):O[M]=a.value}let D=j.class;if(!Qr(D))continue;let N=D(O);typeof N=="function"&&(f.push({handler:N,meta:x}),Ie(x==null?void 0:x.key)&&(l=!0))}if(f.length===0)continue;let k=(...P)=>{let S=Promise.resolve();return f.forEach(b=>{var O;let{handler:x,meta:L}=b;if(h){let D=P[0];if(!D||!ro(D,L))return;(O=D.preventDefault)==null||O.call(D)}let j=L==null?void 0:L.delay;j&&(S=S.then(()=>oo(j*1e3,i))),S=S.then(()=>x(...P))}),S.catch(b=>{}),S};h?n=k:eo(p,r)?s=k:c[p]=k}function d(){i.forEach(p=>p("cancel delayed actions")),i.clear()}let m=(0,fe.useContext)(ht),u=n;return at((p,y)=>{let f=p&&!y;if(f||d(),f&&s&&s(),f&&u)return document.addEventListener("keydown",u),l&&m.register(u),()=>{l&&m.unregister(u),document.removeEventListener("keydown",u)}}),(0,fe.useEffect)(()=>()=>{d(),l&&u&&m.unregister(u)},[]),c}}function eo(e,r){return e===jt&&r}function to(e,r){return e===Lt&&r}function ro(e,r){if(!e||!r||!r.key)return!1;let o=r.key;return Ie(e)?!Tt(o)||e.inputs.length===0?!1:o.mapping===e.mapping&&e.inputs.includes(o.key):Object.keys(o).every(t=>o[t]===e[t])}function oo(e,r){return new Promise((o,t)=>(r.add(t),window.setTimeout(()=>{r.has(t)&&(r.delete(t),o())},e)))}var ge=C(Vr());var gr=oe("preview");function Q(e,r,o){let t=n=>{let s=kt(n);return s?e.getNode(s):null},i=r;if(xt(r)){let n=t(r);if(n)i=n;else return null}if(_.isOn("compiledScreens")){let n=e.getGroundNodeFor(i),s=e.getScopeNodeFor(n);if(At(s)&&!V(n)){let l=Ve(Ge.Screen,n.id,"default").value,c=w.componentForIdentifier(l);if(c){if(se(c))return null;if(c.type!=="component"&&c.type!=="screen")return gr.error("Not a generated screen or component",c),null}else return w.errorForIdentifier(l)?null:We.createElement(ce,{key:"component-placeholder"});return We.createElement(c.class,{key:n.id})}}return le({node:i,forceRender:o,modifyComponentForNode(n,s,l){if(lr(n)&&n.navigationTarget){let m,u;if(n.navigationTarget==="@Previous")m="goBack";else{m=n.navigationTransition;let p=e.get(n.navigationTarget);p?u=()=>Q(e,p,o):gr.warn(`Could not find navigation node for ${n.navigationTarget}`)}s=dt(s,m,n.navigationTransitionDirection,u,{backdropColor:n.navigationTransitionBackdropColor})}we&&we(l)&&(l._constraints.enabled=!1);let c=[];if(ur(n)){let m=e.getScopeNodeFor(n),u=n.getActions(w),p=Dt(n),y=fr(u,p,f=>{let h=e.getNode(f);if(h===null||m===null)return null;let g=e.get(h.parentid);return g===null||g.id!==m.id?null:Q(e,h,o)});y&&c.push(y)}let d;if(Mt(n)&&n.codeOverrideEnabled&&n.codeOverrideIdentifier){let m=e.getScopeNodeFor(n);if(!$(m)){let u=w.componentForIdentifier(n.codeOverrideIdentifier);u&&(Rt(u)?c.push(u.class):St(u)&&(d=u.class))}}return d&&(s=d(s)),c.length>0&&(s=pr(s,c)),n instanceof It&&l.contentState instanceof ge.ContentState&&(l.contentState=(0,ge.convertToRaw)(l.contentState)),[s,l]}})}var H=C(E()),J=C(E());var T=C(E());var vr="highlightContainer_h73umcx",hr="animation_a1qvnauk",yr="highlight_h181oh5e";var _e=640,W=2,no=!0;function io(e,r,o=1){return!e||!r?!1:Math.abs(e.x-r.x)>o||Math.abs(e.y-r.y)>o}function ao(e){return Array.from(new Set(e))}function Cr(e){return e.framerHighlight==="true"||e.highlight==="true"}function ve(e){return e instanceof HTMLElement}function so(e){return Cr(e.dataset)||e.disabled===!1}function co(e){let r=e;for(;ve(r)&&r.dataset.framerComponentType!=="NavigationContainer";){if(Cr(r.dataset))return!0;r=r.parentElement}return!1}function br(e){let r=e;for(;r&&ve(r);){if(r.dataset.framerComponentType==="NavigationContainer"){let o=r.querySelectorAll("[data-framer-is-current-navigation-target=true]");return o.length?o[o.length-1]:r}r=r.parentElement}return r}function uo(e){let{top:r,left:o,width:t,height:i}=e.target.getBoundingClientRect(),n=!1,s=!1,l=!1,c=!1;e.intersectionRatio!==1&&(n=Math.abs(e.boundingClientRect.left-e.intersectionRect.left)>1,s=Math.abs(e.boundingClientRect.right-e.intersectionRect.right)>1,l=Math.abs(e.boundingClientRect.top-e.intersectionRect.top)>1,c=Math.abs(e.boundingClientRect.bottom-e.intersectionRect.bottom)>1),(n||s)&&(o=e.intersectionRect.left,t=e.intersectionRect.width),(l||c)&&(r=e.intersectionRect.top,i=e.intersectionRect.height);let{borderTopRightRadius:d=0,borderTopLeftRadius:m=0,borderBottomLeftRadius:u=0,borderBottomRightRadius:p=0}=no?getComputedStyle(e.target):{},y=e.target.id?`highlight-${e.target.id}-${r}-${o}-${t}-${i}`:Et(),f=0;if(ve(e.target)){let h=e.target.style;h.left==="50%"&&h.top==="50%"&&h.transform==="translate(-50%, -50%)"&&e.target.dataset.framerComponentType==="Frame"&&(f=-1)}return T.createElement("div",{key:y,className:yr,style:{borderTopRightRadius:l||s?0:`calc(${W}px + ${d}) `,borderTopLeftRadius:l||n?0:`calc(${W}px + ${m}) `,borderBottomLeftRadius:c||n?0:`calc(${W}px + ${u}) `,borderBottomRightRadius:c||s?0:`calc(${W}px + ${p}) `,top:r-W,left:o-W,width:t+W*2,height:i+W*2+f,borderWidth:W}})}function Rr({setHighlightsCallback:e}){let[r,o]=T.useState([]),t=T.useRef(void 0),i=T.useCallback(d=>{let m=new IntersectionObserver((u,p)=>{o(u.filter(y=>y.isIntersecting).map(uo).filter(Boolean)),p.disconnect()},{threshold:[0]});ao([...d.querySelectorAll("[data-framer-highlight=true], [data-highlight=true], *:enabled")]).forEach(u=>m.observe(u))},[]),n=!!r.length,s=T.useCallback(d=>{let m=d.target;if(io({x:d.clientX,y:d.clientY},t.current,4)||d.defaultPrevented||!(m instanceof Element)||ve(m)&&so(m)||co(m)||n)return;let u=br(m);!u||i(u)},[i,n]),l=T.useCallback(()=>{let d=br(document.querySelector("[data-framer-is-current-navigation-target=true]"));!d||i(d)},[i]);T.useEffect(()=>{let d=setTimeout(()=>{l()},_e);return()=>clearTimeout(d)},[l]),T.useEffect(()=>{if(r&&r.length){let d=setTimeout(()=>o([]),_e);return()=>clearTimeout(d)}},[r]);let c=T.useCallback(d=>{t.current={x:d.clientX,y:d.clientY}},[]);return T.useEffect(()=>(document.addEventListener("mousedown",c),document.addEventListener("mouseup",s),e(l),()=>{e(null),document.removeEventListener("mouseup",s),document.removeEventListener("mousedown",c)}),[s,c,e,l]),T.createElement("div",{className:ue(r.length&&hr,vr),style:{animationDuration:`${_e}ms`}},r)}var ee=C(E());function Sr(e,r,o){let t=ee.createElement(ee.Fragment,null,o);if(!e)return t;let i=w.componentForIdentifier(e);return!i||!bt(i)?t:ee.createElement(i.class,r,o)}var Pr="previewApp_p19opbdr",Er="touchCursor_tq8245a",wr="disableUserSelect_dxvyd3w";function lo(e,r){if(V(e)&&zt(r,e)){let o=Gt(r,e);return Le($(o),"PreviewRenderer: WebPage Scope node must exist and be a canvas component"),{entryNode:o.getPrimaryVariant(),entryWebPageScopeNode:o}}if($(e)&&de(e))return{entryNode:e.getPrimaryVariant(),entryWebPageScopeNode:e};if(wt(e)){let o=r.getScopeNodeFor(e);return Le($(o),"PreviewRenderer: WebPage Scope node must exist and be a canvas component"),{entryNode:o.getPrimaryVariant(),entryWebPageScopeNode:o}}return{entryNode:e}}var Tr=H.memo(function({tree:r,customProperties:o,nodeToRender:t,nodeToRenderKey:i,reloadCount:n,assetMapHash:s,touchCursor:l,highlightsEnabled:c,pluginComponentId:d,setHighlightsCallback:m,onFinishedRendering:u,onNavigationAction:p,__doNotUse_measuredNodeWidth:y,__doNotUse_measuredNodeHeight:f}){let h=(0,J.useCallback)(N=>{let M=r.getNode(N);return M?Q(r,M,s):null},[r,s]),[g]=(0,J.useState)(()=>new nt((N,M,a)=>{a.dispatchEvent(new CustomEvent("FramerEvent",{bubbles:!0,detail:{type:N,event:M}}))}));(0,J.useEffect)(()=>u==null?void 0:u(),[u]);let{entryNode:k,entryWebPageScopeNode:P}=lo(t,r),S={};for(let N of r.root.children)$(N)&&de(N)&&(S[N.id]={page:le({node:N.getPrimaryVariant()}),path:N.pagePath});let b=P?H.createElement(mt,{routes:S,initialRoute:P.id}):H.createElement(st,null,Q(r,k,s)),{width:x,height:L}=t.rect();y&&(x=y),f&&(L=f),b=Sr(d,{prototypeWidth:x,prototypeHeight:L},b),xe&&(b=H.createElement(xe,{value:p},b));let j=r.getCanvasComponentNodeFor(t),O=j&&de(j),D=H.createElement("div",{className:ue(!P&&Pr,l&&Er,!O&&wr),key:i+n},H.createElement(gt,{value:h},H.createElement(pt,null,H.createElement(it,{session:g},H.createElement(vt,null,b)))),m&&c&&H.createElement(Rr,{setHighlightsCallback:m}));return Jt(D,o)},go),mo=new Set(["tree","customProperties","nodeToRenderKey","assetMapHash","autoReload","__doNotUse_measuredNodeWidth","__doNotUse_measuredNodeHeight"]),po={tree:!0,customProperties:!0,nodeToRender:!0,nodeToRenderKey:!0,assetMapHash:!0,autoReload:!0,reloadCount:!0,modulesUpdateCount:!0,externalModulesLoading:!0,touchCursor:!0,highlightsEnabled:!0,pluginComponentId:!0,setHighlightsCallback:!0,onFinishedRendering:!0,onNavigationAction:!0,__doNotUse_measuredNodeWidth:!0,__doNotUse_measuredNodeHeight:!0},fo=Object.keys(po);function go(e,r){return r.autoReload===!0?!1:fo.every(o=>{if(mo.has(o))return!0;let t=r[o],i=e[o];return o==="nodeToRender"?t.id===i.id:t===i})}var he=C(E());var Nr=["click","contextmenu","keydown"];function xr({disabled:e=!1}){let r=he.useRef(new F),o=ut(t=>{r.current.emit({type:t.type})},1e3);return he.useEffect(()=>{if(!e)return Nr.forEach(t=>{window.addEventListener(t,o,!0)}),()=>{Nr.forEach(t=>{window.removeEventListener(t,o,!0)})}},[e,o]),r.current.newStream}var ye=C(E());function vo(e){return e.target!==null&&"nodeName"in e.target&&typeof e.target.nodeName=="string"}function kr(e,r){return function(t){t.repeat||t.defaultPrevented||t.isComposing||(e.emit({altKey:t.altKey,code:t.code,ctrlKey:t.ctrlKey,key:t.key,keyCode:t.keyCode,metaKey:t.metaKey,shiftKey:t.shiftKey,targetNodeName:vo(t)?t.target.nodeName:""}),r&&ho(t)&&t.preventDefault())}}function ho(e){if(!(e.ctrlKey||e.metaKey))return!1;switch(e.keyCode){case 73:return Wt?!e.shiftKey:!e.altKey;case 79:return!0;case 80:return!0;case 82:return!0;case 83:return!0;case 72:return!0}return!1}function Mr({preventNativeBrowserShortcuts:e}){let r=ye.useRef(new F),o=kr(r.current,e);return ye.useEffect(()=>{let t=o;return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[o]),r.current.newStream}var z=C(E());var yo=[/^\[[a-z:-]+\]\s*☎️/i,/^%c Loader: %c/,/warn: \[FeatureSet\]/],Co='Unable to show message, check the web inspector console. You can access the web inspector by right-clicking the preview, and selecting "Inspect".';function Ir(){let e=z.useRef(new F),r=z.useRef(),o=z.useRef(i=>{let{data:n,...s}=i;if(n[0]&&yo.some(c=>typeof n[0]=="string"&&c.test(n[0])))return;let l={...s,data:n.map(c=>{try{return Oe(c)}catch{return Oe(Co)}})};Promise.resolve().then(()=>{e.current.emit({logs:[l]})}).catch(X)}),t=z.useRef(i=>{try{let n=Ut(i),s=n.message;n.stack&&(s+=`
`,s+=n.stack.map(c=>c.functionName?`  at ${c.functionName} (${c.fileName}:${c.lineNumber}:${c.colNumber})`:`  at ${c.fileName}:${c.lineNumber}:${c.colNumber}`).join(`
`));let l={method:Xt.Error,data:[s],id:""};o.current(l)}catch{}});return z.useEffect(()=>{let i=t.current;return r.current=Yt(window.console,o.current),window.addEventListener("error",i),()=>{r.current&&Qt(r.current),window.removeEventListener("error",i)}},[]),e.current.newStream}var Ce=C(E());function Lr(){let e=Ce.useRef(new F),r=Ce.useCallback(o=>e.current.emit({key:o}),[]);return[e.current.newStream,r]}var be=C(E());function jr(){let e=be.useRef(new F),r=be.useCallback(()=>{e.current.emit({})},[]);return[e.current.newStream,r]}var R=C(E());function Dr(e){let o=e.root.children;for(let t=0,i=o.length;t<i;t++)Hr(o[t])}function Hr(e){let r=e.cache;r.reset(),r.lastUpdate=e.update;let o=e.children;if(!!o)for(let t=0,i=o.length;t<i;t++){let n=o[t];Hr(n)}}var bo=window,Ar="",Or="";function Fr(e){let r=e["index.js"],o=e["vendors.js"];r&&(Ar=String(je(r))),o&&(Or=String(je(o)));let t=`${Ar}_${Or}`;return bo.componentHash=t,t}var te=oe("preview"),Ro=0,Be=()=>`key-${++Ro}`;function So(e){var r;return((r=e.nodeToRender)==null?void 0:r.type)==="canvas"?e.nodeToRender.id:void 0}function Po(e){var r;return((r=e.nodeToRender)==null?void 0:r.type)==="canvas"?e.nodeToRender.width:void 0}function Eo(e){var r;return((r=e.nodeToRender)==null?void 0:r.type)==="canvas"?e.nodeToRender.height:void 0}function wo(e){var r;return((r=e.nodeToRender)==null?void 0:r.type)==="codeEditor"?e.nodeToRender.componentId:void 0}function To(e){let r=w.componentForIdentifier(e);return r&&Ct(r)?r:w.errorForIdentifier(e)}function No(e){let r=e.defaultProps||{},o=He(r.width,200),t=He(r.height,200);return new Ht({codeComponentIdentifier:e.identifier,left:0,top:0,width:o,height:t,...Nt({width:{type:Y.Number,value:o},height:{type:Y.Number,value:t}})})}function xo(e){return Ot(e,w)}function ko(e){Dr(e),$t(e,new Zt)}var Kr=3e3;function Mo(e,r,o={getCustomProperties:xo,getComponent:To,applyChanges:De,rebuildCache:ko}){var n,s,l,c,d;let t={...e},i=!1;switch(r.type){case"applyTreeChanges":if(e.tree)try{o.applyChanges(e.tree,r.changes),t.tree=e.tree.commit()}catch(m){te.reportError(m),delete t.tree,t.shouldPerformFullTreeLoad=!0}break;case"forceRender":t.project.status==="loaded"&&t.reloadCount++;break;case"setNodeToRender":t.nodeToRender=r.nodeToRender;break;case"setTree":t.tree=r.tree,t.shouldPerformFullTreeLoad=!1;break;case"pause":t.isPaused=!0;break;case"resume":t.isPaused=!1,t.modulesFreezingTimestamp=performance.now()+Kr;break;case"setAutoReload":t.autoReload=r.autoReload;break;case"setHighlights":t.isHighlightsEnabled=r.value;break;case"setPluginComponentId":t.pluginComponentId=r.value;break;case"updateStateDueToScriptsChange":i=!0;break;case"updateStateDueToModuleChange":i=!0,t.localModulesInitialized=r.localModulesInitialized,performance.now()<t.modulesFreezingTimestamp&&t.modulesUpdateCount++;break;case"assetMapDidUpdate":t.assetMapHash=r.assetMapHash,t.tree&&Bt({subtree:t.tree.root,invalidateElements:!0,invalidateAssets:!0});break;case"externalModulesLoadingStateUpdate":t.externalModulesLoading=r.loading,t.project.status==="loaded"&&!r.loading&&(t.project.nodeToRenderKey=Be());break;default:re(r)}if(t.nodeToRender)switch(t.nodeToRender.type){case"canvas":{let m=t.tree!==e.tree,u=t.nodeToRender.id!==So(e),p=t.nodeToRender.width!==Po(e)||t.nodeToRender.height!==Eo(e),y=t.nodeToRender.touchCursor!==((n=e.nodeToRender)==null?void 0:n.touchCursor),f=t.assetMapHash!==e.assetMapHash;if(t.tree&&t.assetMapHash!==void 0&&t.localModulesInitialized&&(m||u||p||y||f||i)){let h=t.tree.getNode(t.nodeToRender.id);if(h){let g=o.getCustomProperties(t.tree);t.project={status:"loaded",tree:t.tree,customProperties:g,nodeToRender:h,__doNotUse_measuredNodeWidth:t.nodeToRender.width,__doNotUse_measuredNodeHeight:t.nodeToRender.height,nodeToRenderKey:Be(),assetMapHash:t.assetMapHash,touchCursor:t.nodeToRender.touchCursor}}else t.project={status:"error"}}}break;case"codeEditor":{let m=!e.tree&&t.tree,u=t.nodeToRender.componentId!==wo(e),p=t.nodeToRender.touchCursor!==((s=e.nodeToRender)==null?void 0:s.touchCursor),y=t.assetMapHash!==e.assetMapHash;if(!t.tree||t.assetMapHash===void 0||!t.localModulesInitialized){t.project={status:"waiting"};break}if(m||u||p||y||i){let f=o.getComponent(t.nodeToRender.componentId);if(!f){t.project={status:"error"};break}if(se(f)&&f.fileDoesNotExist){t.project={status:"waiting"};break}let h=o.getCustomProperties(t.tree);t.project={status:"loaded",tree:t.tree,customProperties:h,nodeToRender:No(f),nodeToRenderKey:Be(),assetMapHash:t.assetMapHash,touchCursor:t.nodeToRender.touchCursor}}}break;default:re(t.nodeToRender)}return t.tree&&(t.tree!==e.tree||i||e.externalModulesLoading&&!t.externalModulesLoading)&&o.rebuildCache(t.tree),((l=e.project)==null?void 0:l.status)!==((c=t.project)==null?void 0:c.status)&&((d=t.project)==null?void 0:d.status)==="loaded"&&(t.modulesFreezingTimestamp=performance.now()+Kr),t}function Ur({renderPhaseEventStream:e,logStream:r,keyboardEventStream:o,interactionStream:t,navigationEventStream:i,onShowHighlights:n}){let[{isPaused:s,autoReload:l,project:c,shouldPerformFullTreeLoad:d,isHighlightsEnabled:m,pluginComponentId:u,reloadCount:p,modulesUpdateCount:y,localModulesInitialized:f,externalModulesLoading:h},g]=(0,R.useReducer)(Mo,{isPaused:!1,autoReload:!0,isHighlightsEnabled:!1,project:{status:"loading"},shouldPerformFullTreeLoad:!0,reloadCount:0,modulesUpdateCount:0,modulesFreezingTimestamp:1/0,localModulesInitialized:!1,externalModulesLoading:!1}),k=Ae(()=>nr.createPreviewModulesRuntime(a=>{g({type:"externalModulesLoadingStateUpdate",loading:a})})),P=(0,R.useCallback)(a=>{a.root.walk(v=>{if(!V(v))return;let I=Ze(v.codeComponentIdentifier);(I==null?void 0:I.kind)==="externalModuleExport"&&k.ensureExternalModuleLoaded(I).catch(te.reportError)})},[k]),S=(0,R.useRef)(null),b=(0,R.useRef)(null),x=Ae(()=>qe()),L=(0,R.useCallback)(a=>{x.then(()=>k.handleLocalModulesUpdate(a)).then(()=>{g({type:"updateStateDueToModuleChange",localModulesInitialized:a.initialized})}).catch(te.reportError)},[x,k]),j=(0,R.useCallback)(a=>{let v=Fr(a);S.current!==v&&(w.updateStateWithScripts(a,B),S.current=v,b.current=a,g({type:"updateStateDueToScriptsChange"}))},[]),O=(0,R.useCallback)(a=>{let v=Ft.fromJS(a,w);if(!v)throw Error("unable to build tree from: "+a);P(v),g({type:"setTree",tree:v})},[P]),D=(0,R.useCallback)(a=>{g({type:"applyTreeChanges",changes:a})},[]),N=(0,R.useRef)(!1);(0,R.useEffect)(()=>{Se(!N.current,"Ensure interface handlers are wrapped in useRef/useCallback to avoid restarting the service"),Ye.on(A).register({reload:async()=>{b.current&&w.updateStateWithScripts(b.current,B),g({type:"forceRender"})},pause:async()=>{g({type:"pause"})},resume:async()=>{g({type:"resume"})},setAutoReload:async({autoReload:a})=>{g({type:"setAutoReload",autoReload:a})},previewKeyboardEventStream:o,renderPhaseEventStream:e,previewLogStream:r,previewInteractionStream:t||function(){throw new Error("Not implemented")},navigationEventStream:i,showHighlights:n}),N.current=!0},[t,o,r,n,e,i]),(0,R.useEffect)(()=>{!d||(ne.on(A).discover().then(async a=>{let{document:v,initialUpdates:I,scripts:G}=await a.loadDocument();if(G&&j(G),v){let U=Kt(v);I&&(De(U,I),U=U.commit()),P(U),g({type:"setTree",tree:U})}}).catch(X),Pe.on(A).discover().then(async a=>{let{dependenciesModule:v,modules:I,initialized:G}=await a.getModules(),U=[];v&&U.push({op:"add",path:[`${v.type}/${v.name}`],value:v});for(let Re of Object.values(I))U.push({op:"add",path:[`${Re.type}/${Re.name}`],value:Re});L({patches:U,dependentModules:[],initialized:G})}).catch(X),Xe.on(A).discover().then(async a=>{a.experimentsUpdatesStream({replay:"latest"}).read(v=>_.update(v)).catch(te.reportError)}).catch(te.reportError))},[d,j,L,P]),Z({channel:A,service:ne,onDiscover:a=>a.scriptUpdateStream(),onError:q},async({content:a})=>j(a)),Z({channel:A,service:Pe,onDiscover:a=>a.moduleUpdatesStream(),onError:q},async({patches:a,dependentModules:v,initialized:I})=>{L({patches:a,dependentModules:v,initialized:I})}),Z({channel:A,service:ne,onDiscover:a=>a.treeUpdateStream(),onError:q},async a=>{a.type==="tree"?O(a.tree):a.type==="changes"?D(a.changes):re(a)}),Z({channel:A,service:Qe,onDiscover:a=>a.previewMetadataUpdateStream({replay:"latest"}),onError:q},async({node:a,touchCursor:v,highlights:I,pluginComponentId:G})=>{g({type:"setHighlights",value:I}),g({type:"setPluginComponentId",value:G}),g({type:"setNodeToRender",nodeToRender:a?{...a,touchCursor:v}:void 0})}),Z({channel:A,service:et,onDiscover:a=>a.keyDownStream(),onError:q},async a=>{let v=new KeyboardEvent("keydown",a);document.dispatchEvent(v)});let M=(0,R.useContext)(ar);return Se(M,"Missing AssetMap, the preview may have not been bootstrapped correctly"),(0,R.useEffect)(()=>{yt(Je.on(A).discover(),async a=>{!a.assets||(M.update(a.assets),x.resolve(),lt.importCustomFonts(a.assets),g({type:"assetMapDidUpdate",assetMapHash:M.hash}))})},[M,x]),{isPaused:s,project:c,isHighlightsEnabled:m,pluginComponentId:u,autoReload:l,reloadCount:p,modulesUpdateCount:y,localModulesInitialized:f,externalModulesLoading:h,modulesRuntime:k}}var Wr=({enableInteractionTracking:e,isPlayPreview:r})=>{let o=K.useRef(null),t=K.useCallback(S=>{o.current=S},[]),i=K.useCallback(async()=>{!o.current||o.current()},[]),[n,s]=jr(),[l,c]=Lr(),d=r&&_.isOn("sites"),{isPaused:m,project:u,autoReload:p,isHighlightsEnabled:y,pluginComponentId:f,reloadCount:h,modulesUpdateCount:g,externalModulesLoading:k,modulesRuntime:P}=Ur({renderPhaseEventStream:n,logStream:Ir(),keyboardEventStream:Mr({preventNativeBrowserShortcuts:!d}),interactionStream:xr({disabled:!e}),navigationEventStream:l,onShowHighlights:i});return m||u.status!=="loaded"&&u.status!=="waiting"?null:u.status==="waiting"?K.createElement(tr,null):K.createElement(qt.Provider,{value:P},K.createElement(Fe,{nodeToRenderKey:u.nodeToRenderKey},K.createElement(Tr,{...u,touchCursor:u.touchCursor&&!d,setHighlightsCallback:t,highlightsEnabled:y&&!d,pluginComponentId:f,onFinishedRendering:s,onNavigationAction:c,autoReload:p,reloadCount:h,modulesUpdateCount:g,externalModulesLoading:k})))};window.Framer=B;function Br(){let r=new URL(window.location.href).searchParams.get("target"),{enableInteractionTracking:o,renderTarget:t}=er(r),{imageBaseURL:i}=dr(),{assetResolver:n,AssetProvider:s}=sr(),l=n?{assetResolver:n}:{},c=new or;Pt({...l,fetchGoogleFontsList:rr,enableFontStore:!0,experiments:_,useImageSource:c.useImageSource,useImageElement:c.useImageElement}),ot.start(),rt({target:t,imageBaseURL:i});let d=document.querySelector("main");_r.render($e.createElement(s,null,$e.createElement(Wr,{enableInteractionTracking:o,isPlayPreview:r==="play-web"})),d)}var $r=Vt(document.referrer).origin;tt({name:"preview-next",security:{allowChannelToParentWithOrigin:$r,allowChannelToOpenerWithOrigin:$r}});Br();
//# sourceMappingURL=https://app.framerstatic.com/preview-next.3TJIWQAQ.js.map
